<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.votesspring.mapper.AnswerHistoryMapper">
    <resultMap id="rAnswerHistory" type="com.example.votesspring.domain.AnswerHistory">
        <result property="id" column="answer_history_id"/>
        <result property="userId" column="user_id"/>
        <result property="answerId" column="answer_id"/>
    </resultMap>

    <insert id="save" parameterType="AnswerHistory">
        insert into ANSWER_HISTORY (user_id, answer_id)
        values (#{userId}, #{answerId})
    </insert>

    <select id="existsByUserIdAnswerId" resultType="Boolean">
        select exists(
            select * from ANSWER_HISTORY where user_id= #{userId} and answer_id= #{answerId}
        )
    </select>

    <delete id="deleteByAllId">
        delete from ANSWER_HISTORY where user_id = #{userId} AND answer_id = #{answerId}
    </delete>

</mapper>